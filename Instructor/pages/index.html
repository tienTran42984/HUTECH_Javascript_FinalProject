<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Dashboard</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link rel="stylesheet" href="../style.css">
    </head>
    
    <body>
        <div class="app">
            <aside class="sidebar">
                <div class="brand">
                <i class="bi bi-mortarboard-fill"></i>Instructor</div>

                <div class="nav">
                    <button class="nav-btn active" data-page="dashboard">
                        <i class="bi bi-speedometer2"></i>
                        Dashboard
                    </button>

                    <button class="nav-btn" data-page="courses">
                        <i class="bi bi-journal-text"></i>
                        My Courses
                    </button>

                    <button class="nav-btn" data-page="settings">
                        <i class="bi bi-gear"></i>
                        Account Settings
                    </button>
                </div>

                <div class="logout-wrap">
                    <button class="logout-btn" id="logoutBtn">
                        <i class="bi bi-box-arrow-right"></i>
                        Logout
                    </button>
                </div>
            </aside>

            <main class="main">
                <!-- Topbar -->
                <header class="topbar">
                    <div class="page-title" id="pageTitle">Dashboard</div>

                    <div class="user-email">
                        <i class="bi bi-person-circle"></i>
                        <span id="userEmail">amy.smith@email.com</span>
                    </div>
                </header>

                <!-- Content -->
                <section class="content">
                    <div id="pageContainer"></div>
                </section>
            </main>
        </div>

        <script>
            const navButtons = document.querySelectorAll(".nav-btn");
            const pageContainer = document.getElementById("pageContainer")
            const pageTitle = document.getElementById("pageTitle");
            const logoutBtn = document.getElementById("logoutBtn");

            loadPage("dashboard");

            navButtons.forEach(btn => {
                btn.addEventListener("click", () => {
                    loadPage(btn.dataset.page);
                });
            });
            
            logoutBtn.addEventListener("click", () => {
                const ok = confirm("Do you want to logout?");
                if (ok) {
                    alert("You have logout");
                }
            })

            async function loadPage(pageName) {
                const res = await fetch(`${pageName}.html`);
                const html = await res.text();
                pageContainer.innerHTML = html;

                const titleMap = {
                    dashboard: "Dashboard",
                    courses: "My Courses",
                    settings: "Account Settings"
                };
                pageTitle.textContent = titleMap[pageName] || "Dashboard";

                navButtons.forEach(btn => btn.classList.remove("active"));
                document.querySelector(`.nav-btn[data-page="${pageName}"]`).classList.add("active");

                pageContainer.querySelectorAll("[data-goto]").forEach(btn => {
                    btn.addEventListener("click", () => {
                    loadPage(btn.dataset.goto);
                    });
                });
            }
        </script>
    </body>
</html>